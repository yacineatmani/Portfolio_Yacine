import{r as o,x as w,j as e,Q as C,S as u}from"./app-BrbHnAiW.js";import{m as S,F as P,c as M}from"./index-sSnqvvui.js";import{P as D,T as F,R as l,F as z}from"./dashboard-BjJqT9vh.js";import{w as E,u as V}from"./Notifier-BHJFgJgp.js";import{P as R,S as _,a as $,b as A}from"./SkillForm-rz-4sLF2.js";import"./github-CkIEYlAA.js";import"./createLucideIcon-haNRXYyC.js";import"./mail-Bt1rFtjn.js";function B({auth:b,projects:d=[],skills:n=[]}){const{user:s}=b,[f,x]=o.useState(!1),[j,m]=o.useState(!1),[h,g]=o.useState(!1),[i,v]=o.useState(!1),t=V(),p=()=>{v(!i),document.documentElement.classList.toggle("dark")},a=w({cv:null}),N=r=>{r.preventDefault(),a.data.cv&&a.post("/dashboard/cv",{forceFormData:!0,onSuccess:()=>{a.reset("cv"),t.success("CV mis Ã  jour !")},onError:()=>t.error("Erreur lors de la mise Ã  jour du CV.")})},y=r=>{u.delete(`/projects/${r}`,{onSuccess:()=>t.success("Projet supprimÃ© !"),onError:()=>t.error("Erreur lors de la suppression.")})},k=r=>{u.delete(`/skills/${r}`,{onSuccess:()=>t.success("CompÃ©tence supprimÃ©e !"),onError:()=>t.error("Erreur lors de la suppression.")})};return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-100 dark:from-gray-900 dark:via-slate-900 dark:to-indigo-900 relative",children:[e.jsx(C,{title:"Dashboard"}),e.jsx(D,{}),e.jsx("div",{className:"fixed top-4 right-4 z-50",children:e.jsx(S.button,{onClick:p,className:`p-3 rounded-full shadow-lg transition-all duration-300 transform hover:scale-110 ${i?"bg-indigo-600":"bg-gray-800"}`,whileHover:{scale:1.1,rotate:360},whileTap:{scale:.95},"aria-label":"Basculer le mode sombre",children:i?e.jsx(P,{className:"text-white",size:20}):e.jsx(M,{className:"text-white",size:20})})}),h&&e.jsx("div",{className:"fixed inset-0 bg-black/50 z-30 lg:hidden",onClick:()=>g(!1),"aria-hidden":"true"}),e.jsx(F,{onMenuClick:()=>g(!0),user:s,isDarkMode:i,toggleTheme:p}),e.jsxs("div",{className:"flex",children:[e.jsx("aside",{className:`fixed left-0 top-16 h-[calc(100vh-4rem)] w-80 bg-white/90 dark:bg-gray-800/90 backdrop-blur-lg shadow-2xl border-r border-gray-200 dark:border-gray-700 z-40 transform transition-transform duration-300 ease-in-out lg:translate-x-0 lg:static lg:h-auto ${h?"translate-x-0":"-translate-x-full"}`,children:e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"relative inline-block",children:[e.jsx("div",{className:"absolute -inset-1 bg-gradient-to-r from-indigo-500 via-purple-500 to-pink-500 rounded-full blur opacity-75 animate-pulse"}),e.jsx("img",{src:s.photo?`/storage/${s.photo}`:`https://ui-avatars.com/api/?name=${encodeURIComponent(s.name)}&background=6366f1&color=fff`,alt:"Photo de profil",className:"relative w-32 h-32 rounded-full object-cover shadow-xl bg-white border-4 border-white"})]}),e.jsx("h3",{className:"mt-4 text-xl font-bold text-gray-900 dark:text-white",children:s.name}),e.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:s.email})]}),e.jsxs("nav",{className:"space-y-3",children:[e.jsx("a",{href:"/",children:e.jsxs(l,{className:"w-full bg-gradient-to-r from-indigo-500 to-purple-600 hover:from-indigo-600 hover:to-purple-700 shadow-lg rounded-2xl px-6 py-4 text-white font-semibold transition-all duration-300 flex items-center gap-3 justify-center transform hover:scale-105","aria-label":"Retour Ã  l'accueil",children:[e.jsx("span",{className:"material-icons",children:"home"}),"Retour Ã  l'accueil"]})}),e.jsxs("div",{className:"bg-gray-100 dark:bg-gray-700 rounded-2xl p-4",children:[e.jsxs("h4",{className:"font-semibold text-gray-800 dark:text-gray-200 mb-3 flex items-center gap-2",children:[e.jsx("span",{className:"material-icons text-indigo-600",children:"dashboard"}),"Navigation"]}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("a",{href:"#projects",className:"flex items-center gap-2 text-gray-600 dark:text-gray-300 hover:text-indigo-600 dark:hover:text-indigo-400 transition-colors",children:[e.jsx("span",{className:"material-icons text-lg",children:"work"}),"Mes Projets"]}),e.jsxs("a",{href:"#skills",className:"flex items-center gap-2 text-gray-600 dark:text-gray-300 hover:text-indigo-600 dark:hover:text-indigo-400 transition-colors",children:[e.jsx("span",{className:"material-icons text-lg",children:"psychology"}),"Mes CompÃ©tences"]}),e.jsxs("a",{href:"#cv",className:"flex items-center gap-2 text-gray-600 dark:text-gray-300 hover:text-indigo-600 dark:hover:text-indigo-400 transition-colors",children:[e.jsx("span",{className:"material-icons text-lg",children:"description"}),"Mon CV"]})]})]}),e.jsxs("div",{className:"bg-gradient-to-r from-indigo-50 to-purple-50 dark:from-indigo-900/20 dark:to-purple-900/20 rounded-2xl p-4",children:[e.jsxs("h4",{className:"font-semibold text-gray-800 dark:text-gray-200 mb-3 flex items-center gap-2",children:[e.jsx("span",{className:"material-icons text-indigo-600",children:"analytics"}),"Statistiques"]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3 text-center",children:[e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-3",children:[e.jsx("div",{className:"text-2xl font-bold text-indigo-600",children:d.length}),e.jsx("div",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Projets"})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-3",children:[e.jsx("div",{className:"text-2xl font-bold text-purple-600",children:n.length}),e.jsx("div",{className:"text-xs text-gray-600 dark:text-gray-400",children:"CompÃ©tences"})]})]})]})]})]})}),e.jsx("main",{className:"flex-1 relative z-10 lg:ml-80",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-8 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 mb-8",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-4xl font-bold bg-gradient-to-r from-indigo-600 via-purple-600 to-blue-600 bg-clip-text text-transparent mb-2",children:"Dashboard"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:"GÃ©rez votre portfolio professionnel"})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("a",{href:"/",children:e.jsxs(l,{className:"bg-gradient-to-r from-blue-500 to-indigo-600 hover:from-blue-600 hover:to-indigo-700 shadow-lg rounded-2xl px-8 py-4 text-white font-semibold transition-all duration-300 flex items-center gap-3 transform hover:scale-105 text-lg","aria-label":"Retour Ã  l'accueil",children:[e.jsx("span",{className:"material-icons text-xl",children:"home"}),e.jsx("span",{children:"Accueil"})]})}),e.jsx("a",{href:"/profile",children:e.jsxs(l,{className:"bg-gradient-to-r from-purple-500 to-pink-600 hover:from-purple-600 hover:to-pink-700 shadow-lg rounded-2xl px-6 py-4 text-white font-semibold transition-all duration-300 flex items-center gap-2 transform hover:scale-105","aria-label":"Mon profil",children:[e.jsx("span",{className:"material-icons",children:"person"}),e.jsx("span",{children:"Profil"})]})})]})]}),e.jsx("div",{className:"mb-8",children:e.jsx("div",{className:"bg-white/80 dark:bg-gray-800/80 backdrop-blur-lg rounded-3xl shadow-2xl border border-white/20 dark:border-gray-700/50 p-8",children:e.jsxs("div",{className:"flex flex-col md:flex-row items-center gap-6",children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute -inset-1 bg-gradient-to-r from-indigo-500 via-purple-500 to-pink-500 rounded-full blur opacity-75 animate-pulse"}),e.jsx("img",{src:s.photo||`https://ui-avatars.com/api/?name=${encodeURIComponent(s.name)}&background=6366f1&color=fff`,alt:"Photo de profil",className:"relative w-28 h-28 rounded-full object-cover shadow-xl bg-white border-4 border-white"})]}),e.jsxs("div",{className:"text-center md:text-left",children:[e.jsxs("h2",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-2 flex items-center gap-3 justify-center md:justify-start",children:[e.jsx("span",{className:"material-icons text-indigo-600 text-4xl",children:"person"}),"Bonjour, ",s.name," ðŸ‘‹"]}),e.jsx("p",{className:"text-lg text-gray-600 dark:text-gray-300",children:"Bienvenue dans votre espace d'administration"})]})]})})}),e.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-4 gap-8",children:[e.jsxs("div",{className:"xl:col-span-3 space-y-8",children:[e.jsxs("section",{id:"projects",className:"bg-white/80 dark:bg-gray-800/80 backdrop-blur-lg rounded-3xl shadow-2xl border border-white/20 dark:border-gray-700/50 p-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 mb-6",children:[e.jsxs("div",{children:[e.jsxs("h3",{className:"text-2xl font-bold text-gray-900 dark:text-white flex items-center gap-3 mb-2",children:[e.jsx("div",{className:"p-2 bg-gradient-to-r from-blue-500 to-indigo-600 rounded-xl",children:e.jsx("span",{className:"material-icons text-white",children:"work"})}),"Mes Projets"]}),e.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:"GÃ©rez vos rÃ©alisations"})]}),e.jsxs(l,{onClick:()=>x(!0),className:"bg-gradient-to-r from-blue-500 to-indigo-600 hover:from-blue-600 hover:to-indigo-700 shadow-lg rounded-2xl px-6 py-3 text-white font-semibold transition-all duration-300 flex items-center gap-2 transform hover:scale-105","aria-label":"Ajouter un projet",children:[e.jsx("span",{className:"material-icons",children:"add"}),"Nouveau Projet"]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[d.map((r,c)=>e.jsx(R,{project:r,index:c,onDelete:y},r.id)),d.length===0&&e.jsxs("div",{className:"col-span-full text-center py-12",children:[e.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-gray-100 dark:bg-gray-700 rounded-full mb-4",children:e.jsx("span",{className:"material-icons text-2xl text-gray-400",children:"work_off"})}),e.jsx("h4",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"Aucun projet"}),e.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"CrÃ©ez votre premier projet pour commencer"})]})]})]}),e.jsxs("section",{id:"skills",className:"bg-white/80 dark:bg-gray-800/80 backdrop-blur-lg rounded-3xl shadow-2xl border border-white/20 dark:border-gray-700/50 p-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 mb-6",children:[e.jsxs("div",{children:[e.jsxs("h3",{className:"text-2xl font-bold text-gray-900 dark:text-white flex items-center gap-3 mb-2",children:[e.jsx("div",{className:"p-2 bg-gradient-to-r from-green-500 to-emerald-600 rounded-xl",children:e.jsx("span",{className:"material-icons text-white",children:"psychology"})}),"Mes CompÃ©tences"]}),e.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:"PrÃ©sentez vos talents"})]}),e.jsxs(l,{onClick:()=>m(!0),className:"bg-gradient-to-r from-green-500 to-emerald-600 hover:from-green-600 hover:to-emerald-700 shadow-lg rounded-2xl px-6 py-3 text-white font-semibold transition-all duration-300 flex items-center gap-2 transform hover:scale-105","aria-label":"Ajouter une compÃ©tence",children:[e.jsx("span",{className:"material-icons",children:"add"}),"Nouvelle CompÃ©tence"]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:[n.map((r,c)=>e.jsx(_,{skill:r,index:c,onDelete:k},r.id)),n.length===0&&e.jsxs("div",{className:"col-span-full text-center py-12",children:[e.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-gray-100 dark:bg-gray-700 rounded-full mb-4",children:e.jsx("span",{className:"material-icons text-2xl text-gray-400",children:"psychology_off"})}),e.jsx("h4",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"Aucune compÃ©tence"}),e.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Ajoutez vos premiÃ¨res compÃ©tences"})]})]})]})]}),e.jsx("aside",{className:"xl:col-span-1",children:e.jsx("div",{className:"sticky top-24",children:e.jsxs("section",{id:"cv",className:"bg-white/80 dark:bg-gray-800/80 backdrop-blur-lg rounded-3xl shadow-2xl border border-white/20 dark:border-gray-700/50 p-8",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("div",{className:"p-3 bg-gradient-to-r from-indigo-500 to-purple-600 rounded-2xl inline-block mb-4",children:e.jsx("span",{className:"material-icons text-white text-3xl",children:"description"})}),e.jsx("h3",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-2",children:"Mon CV"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:"GÃ©rez votre curriculum vitae"})]}),e.jsxs("form",{onSubmit:N,className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-200 mb-2",children:"Nouveau CV (PDF)"}),e.jsx("input",{type:"file",onChange:r=>a.setData("cv",r.target.files?r.target.files[0]:null),className:"mt-2 block w-full text-gray-900 dark:text-white rounded-xl border border-gray-300 dark:border-gray-600 focus:border-indigo-500 p-3",accept:".pdf,.doc,.docx"}),a.errors.cv&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:a.errors.cv})]}),e.jsxs(l,{type:"submit",disabled:a.processing||!a.data.cv,className:"w-full bg-gradient-to-r from-indigo-500 to-purple-600 hover:from-indigo-600 hover:to-purple-700 shadow-lg rounded-2xl py-4 text-white font-semibold transition-all duration-300 flex items-center justify-center gap-3 transform hover:scale-[1.02] disabled:opacity-50 disabled:cursor-not-allowed","aria-label":"Mettre Ã  jour le CV",children:[e.jsx("span",{className:"material-icons",children:"upload_file"}),e.jsx("span",{children:"Mettre Ã  jour"})]})]}),s.cv_path&&e.jsxs("div",{className:"mt-6 p-4 bg-gradient-to-r from-emerald-50 to-teal-50 dark:from-emerald-900/20 dark:to-teal-900/20 rounded-2xl border border-emerald-200 dark:border-emerald-800/50",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsx("div",{className:"p-2 bg-gradient-to-r from-emerald-500 to-teal-600 rounded-lg",children:e.jsx("span",{className:"material-icons text-white text-lg",children:"check_circle"})}),e.jsx("span",{className:"font-semibold text-emerald-800 dark:text-emerald-200",children:"CV disponible"})]}),e.jsxs("a",{href:`/storage/${s.cv_path}`,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 text-emerald-700 dark:text-emerald-300 hover:text-emerald-800 dark:hover:text-emerald-200 font-medium transition-colors",children:[e.jsx("span",{className:"material-icons text-lg",children:"visibility"}),e.jsx("span",{children:"Voir mon CV"})]})]})]})})})]})]})})]}),e.jsx($,{isOpen:f,onClose:()=>x(!1)}),e.jsx(A,{isOpen:j,onClose:()=>m(!1)}),e.jsx(z,{})]})}const L=E(B);export{L as default};
