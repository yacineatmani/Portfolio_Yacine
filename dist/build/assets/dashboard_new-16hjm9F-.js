import{r as o,x as w,j as e,Q as C,S as u}from"./app-D1kc0eIc.js";import{P as S,T as P,R as l,F as M}from"./Topbar-ZGIDfSAv.js";import{m as D,F,c as z}from"./index-9TUAhO9G.js";import{w as E,u as V}from"./Notifier-BlyzZiVb.js";import{P as R,S as _,a as $,b as A}from"./SkillForm-C8anvKuQ.js";import"./github-C2yg7A5L.js";import"./createLucideIcon-DGP9QFMF.js";import"./mail-BpJslJ0z.js";function B({auth:b,projects:d=[],skills:n=[]}){const{user:s}=b,[f,x]=o.useState(!1),[j,m]=o.useState(!1),[h,g]=o.useState(!1),[i,v]=o.useState(!1),t=V(),p=()=>{v(!i),document.documentElement.classList.toggle("dark")},a=w({cv:null}),N=r=>{r.preventDefault(),a.data.cv&&a.post("/dashboard/cv",{forceFormData:!0,onSuccess:()=>{a.reset("cv"),t.success("CV mis Ã  jour !")},onError:()=>t.error("Erreur lors de la mise Ã  jour du CV.")})},y=r=>{u.delete(`/projects/${r}`,{onSuccess:()=>t.success("Projet supprimÃ© !"),onError:()=>t.error("Erreur lors de la suppression.")})},k=r=>{u.delete(`/skills/${r}`,{onSuccess:()=>t.success("CompÃ©tence supprimÃ©e !"),onError:()=>t.error("Erreur lors de la suppression.")})};return e.jsxs("div",{className:"relative min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-100 dark:from-gray-900 dark:via-slate-900 dark:to-indigo-900",children:[e.jsx(C,{title:"Dashboard"}),e.jsx(S,{}),e.jsx("div",{className:"fixed top-4 right-4 z-50",children:e.jsx(D.button,{onClick:p,className:`transform rounded-full p-3 shadow-lg transition-all duration-300 hover:scale-110 ${i?"bg-indigo-600":"bg-gray-800"}`,whileHover:{scale:1.1,rotate:360},whileTap:{scale:.95},"aria-label":"Basculer le mode sombre",children:i?e.jsx(F,{className:"text-white",size:20}):e.jsx(z,{className:"text-white",size:20})})}),h&&e.jsx("div",{className:"fixed inset-0 z-30 bg-black/50 lg:hidden",onClick:()=>g(!1),"aria-hidden":"true"}),e.jsx(P,{onMenuClick:()=>g(!0),user:s,isDarkMode:i,toggleTheme:p}),e.jsxs("div",{className:"flex",children:[e.jsx("aside",{className:`fixed top-16 left-0 z-40 h-[calc(100vh-4rem)] w-80 transform border-r border-gray-200 bg-white/90 shadow-2xl backdrop-blur-lg transition-transform duration-300 ease-in-out lg:static lg:h-auto lg:translate-x-0 dark:border-gray-700 dark:bg-gray-800/90 ${h?"translate-x-0":"-translate-x-full"}`,children:e.jsxs("div",{className:"space-y-6 p-6",children:[e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"relative inline-block",children:[e.jsx("div",{className:"absolute -inset-1 animate-pulse rounded-full bg-gradient-to-r from-indigo-500 via-purple-500 to-pink-500 opacity-75 blur"}),e.jsx("img",{src:s.photo?`/storage/${s.photo}`:`https://ui-avatars.com/api/?name=${encodeURIComponent(s.name)}&background=6366f1&color=fff`,alt:"Photo de profil",className:"relative h-32 w-32 rounded-full border-4 border-white bg-white object-cover shadow-xl"})]}),e.jsx("h3",{className:"mt-4 text-xl font-bold text-gray-900 dark:text-white",children:s.name}),e.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:s.email})]}),e.jsxs("nav",{className:"space-y-3",children:[e.jsx("a",{href:"/",children:e.jsxs(l,{className:"flex w-full transform items-center justify-center gap-3 rounded-2xl bg-gradient-to-r from-indigo-500 to-purple-600 px-6 py-4 font-semibold text-white shadow-lg transition-all duration-300 hover:scale-105 hover:from-indigo-600 hover:to-purple-700","aria-label":"Retour Ã  l'accueil",children:[e.jsx("span",{className:"material-icons",children:"home"}),"Retour Ã  l'accueil"]})}),e.jsxs("div",{className:"rounded-2xl bg-gray-100 p-4 dark:bg-gray-700",children:[e.jsxs("h4",{className:"mb-3 flex items-center gap-2 font-semibold text-gray-800 dark:text-gray-200",children:[e.jsx("span",{className:"material-icons text-indigo-600",children:"dashboard"}),"Navigation"]}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("a",{href:"#projects",className:"flex items-center gap-2 text-gray-600 transition-colors hover:text-indigo-600 dark:text-gray-300 dark:hover:text-indigo-400",children:[e.jsx("span",{className:"material-icons text-lg",children:"work"}),"Mes Projets"]}),e.jsxs("a",{href:"#skills",className:"flex items-center gap-2 text-gray-600 transition-colors hover:text-indigo-600 dark:text-gray-300 dark:hover:text-indigo-400",children:[e.jsx("span",{className:"material-icons text-lg",children:"psychology"}),"Mes CompÃ©tences"]}),e.jsxs("a",{href:"#cv",className:"flex items-center gap-2 text-gray-600 transition-colors hover:text-indigo-600 dark:text-gray-300 dark:hover:text-indigo-400",children:[e.jsx("span",{className:"material-icons text-lg",children:"description"}),"Mon CV"]})]})]}),e.jsxs("div",{className:"rounded-2xl bg-gradient-to-r from-indigo-50 to-purple-50 p-4 dark:from-indigo-900/20 dark:to-purple-900/20",children:[e.jsxs("h4",{className:"mb-3 flex items-center gap-2 font-semibold text-gray-800 dark:text-gray-200",children:[e.jsx("span",{className:"material-icons text-indigo-600",children:"analytics"}),"Statistiques"]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3 text-center",children:[e.jsxs("div",{className:"rounded-xl bg-white p-3 dark:bg-gray-800",children:[e.jsx("div",{className:"text-2xl font-bold text-indigo-600",children:d.length}),e.jsx("div",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Projets"})]}),e.jsxs("div",{className:"rounded-xl bg-white p-3 dark:bg-gray-800",children:[e.jsx("div",{className:"text-2xl font-bold text-purple-600",children:n.length}),e.jsx("div",{className:"text-xs text-gray-600 dark:text-gray-400",children:"CompÃ©tences"})]})]})]})]})]})}),e.jsx("main",{className:"relative z-10 flex-1 lg:ml-80",children:e.jsxs("div",{className:"mx-auto max-w-7xl px-4 py-8 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"mb-8 flex flex-col items-start justify-between gap-4 sm:flex-row sm:items-center",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"mb-2 bg-gradient-to-r from-indigo-600 via-purple-600 to-blue-600 bg-clip-text text-4xl font-bold text-transparent",children:"Dashboard"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:"GÃ©rez votre portfolio professionnel"})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("a",{href:"/",children:e.jsxs(l,{className:"flex transform items-center gap-3 rounded-2xl bg-gradient-to-r from-blue-500 to-indigo-600 px-8 py-4 text-lg font-semibold text-white shadow-lg transition-all duration-300 hover:scale-105 hover:from-blue-600 hover:to-indigo-700","aria-label":"Retour Ã  l'accueil",children:[e.jsx("span",{className:"material-icons text-xl",children:"home"}),e.jsx("span",{children:"Accueil"})]})}),e.jsx("a",{href:"/profile",children:e.jsxs(l,{className:"flex transform items-center gap-2 rounded-2xl bg-gradient-to-r from-purple-500 to-pink-600 px-6 py-4 font-semibold text-white shadow-lg transition-all duration-300 hover:scale-105 hover:from-purple-600 hover:to-pink-700","aria-label":"Mon profil",children:[e.jsx("span",{className:"material-icons",children:"person"}),e.jsx("span",{children:"Profil"})]})})]})]}),e.jsx("div",{className:"mb-8",children:e.jsx("div",{className:"rounded-3xl border border-white/20 bg-white/80 p-8 shadow-2xl backdrop-blur-lg dark:border-gray-700/50 dark:bg-gray-800/80",children:e.jsxs("div",{className:"flex flex-col items-center gap-6 md:flex-row",children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute -inset-1 animate-pulse rounded-full bg-gradient-to-r from-indigo-500 via-purple-500 to-pink-500 opacity-75 blur"}),e.jsx("img",{src:s.photo||`https://ui-avatars.com/api/?name=${encodeURIComponent(s.name)}&background=6366f1&color=fff`,alt:"Photo de profil",className:"relative h-28 w-28 rounded-full border-4 border-white bg-white object-cover shadow-xl"})]}),e.jsxs("div",{className:"text-center md:text-left",children:[e.jsxs("h2",{className:"mb-2 flex items-center justify-center gap-3 text-3xl font-bold text-gray-900 md:justify-start dark:text-white",children:[e.jsx("span",{className:"material-icons text-4xl text-indigo-600",children:"person"}),"Bonjour, ",s.name," ðŸ‘‹"]}),e.jsx("p",{className:"text-lg text-gray-600 dark:text-gray-300",children:"Bienvenue dans votre espace d'administration"})]})]})})}),e.jsxs("div",{className:"grid grid-cols-1 gap-8 xl:grid-cols-4",children:[e.jsxs("div",{className:"space-y-8 xl:col-span-3",children:[e.jsxs("section",{id:"projects",className:"rounded-3xl border border-white/20 bg-white/80 p-6 shadow-2xl backdrop-blur-lg dark:border-gray-700/50 dark:bg-gray-800/80",children:[e.jsxs("div",{className:"mb-6 flex flex-col items-start justify-between gap-4 sm:flex-row sm:items-center",children:[e.jsxs("div",{children:[e.jsxs("h3",{className:"mb-2 flex items-center gap-3 text-2xl font-bold text-gray-900 dark:text-white",children:[e.jsx("div",{className:"rounded-xl bg-gradient-to-r from-blue-500 to-indigo-600 p-2",children:e.jsx("span",{className:"material-icons text-white",children:"work"})}),"Mes Projets"]}),e.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:"GÃ©rez vos rÃ©alisations"})]}),e.jsxs(l,{onClick:()=>x(!0),className:"flex transform items-center gap-2 rounded-2xl bg-gradient-to-r from-blue-500 to-indigo-600 px-6 py-3 font-semibold text-white shadow-lg transition-all duration-300 hover:scale-105 hover:from-blue-600 hover:to-indigo-700","aria-label":"Ajouter un projet",children:[e.jsx("span",{className:"material-icons",children:"add"}),"Nouveau Projet"]})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2 lg:grid-cols-3",children:[d.map((r,c)=>e.jsx(R,{project:r,index:c,onDelete:y},r.id)),d.length===0&&e.jsxs("div",{className:"col-span-full py-12 text-center",children:[e.jsx("div",{className:"mb-4 inline-flex h-16 w-16 items-center justify-center rounded-full bg-gray-100 dark:bg-gray-700",children:e.jsx("span",{className:"material-icons text-2xl text-gray-400",children:"work_off"})}),e.jsx("h4",{className:"mb-2 text-lg font-medium text-gray-900 dark:text-white",children:"Aucun projet"}),e.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"CrÃ©ez votre premier projet pour commencer"})]})]})]}),e.jsxs("section",{id:"skills",className:"rounded-3xl border border-white/20 bg-white/80 p-6 shadow-2xl backdrop-blur-lg dark:border-gray-700/50 dark:bg-gray-800/80",children:[e.jsxs("div",{className:"mb-6 flex flex-col items-start justify-between gap-4 sm:flex-row sm:items-center",children:[e.jsxs("div",{children:[e.jsxs("h3",{className:"mb-2 flex items-center gap-3 text-2xl font-bold text-gray-900 dark:text-white",children:[e.jsx("div",{className:"rounded-xl bg-gradient-to-r from-green-500 to-emerald-600 p-2",children:e.jsx("span",{className:"material-icons text-white",children:"psychology"})}),"Mes CompÃ©tences"]}),e.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:"PrÃ©sentez vos talents"})]}),e.jsxs(l,{onClick:()=>m(!0),className:"flex transform items-center gap-2 rounded-2xl bg-gradient-to-r from-green-500 to-emerald-600 px-6 py-3 font-semibold text-white shadow-lg transition-all duration-300 hover:scale-105 hover:from-green-600 hover:to-emerald-700","aria-label":"Ajouter une compÃ©tence",children:[e.jsx("span",{className:"material-icons",children:"add"}),"Nouvelle CompÃ©tence"]})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4",children:[n.map((r,c)=>e.jsx(_,{skill:r,index:c,onDelete:k},r.id)),n.length===0&&e.jsxs("div",{className:"col-span-full py-12 text-center",children:[e.jsx("div",{className:"mb-4 inline-flex h-16 w-16 items-center justify-center rounded-full bg-gray-100 dark:bg-gray-700",children:e.jsx("span",{className:"material-icons text-2xl text-gray-400",children:"psychology_off"})}),e.jsx("h4",{className:"mb-2 text-lg font-medium text-gray-900 dark:text-white",children:"Aucune compÃ©tence"}),e.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Ajoutez vos premiÃ¨res compÃ©tences"})]})]})]})]}),e.jsx("aside",{className:"xl:col-span-1",children:e.jsx("div",{className:"sticky top-24",children:e.jsxs("section",{id:"cv",className:"rounded-3xl border border-white/20 bg-white/80 p-8 shadow-2xl backdrop-blur-lg dark:border-gray-700/50 dark:bg-gray-800/80",children:[e.jsxs("div",{className:"mb-8 text-center",children:[e.jsx("div",{className:"mb-4 inline-block rounded-2xl bg-gradient-to-r from-indigo-500 to-purple-600 p-3",children:e.jsx("span",{className:"material-icons text-3xl text-white",children:"description"})}),e.jsx("h3",{className:"mb-2 text-2xl font-bold text-gray-900 dark:text-white",children:"Mon CV"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:"GÃ©rez votre curriculum vitae"})]}),e.jsxs("form",{onSubmit:N,className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"mb-2 block text-sm font-medium text-gray-700 dark:text-gray-200",children:"Nouveau CV (PDF)"}),e.jsx("input",{type:"file",onChange:r=>a.setData("cv",r.target.files?r.target.files[0]:null),className:"mt-2 block w-full rounded-xl border border-gray-300 p-3 text-gray-900 focus:border-indigo-500 dark:border-gray-600 dark:text-white",accept:".pdf,.doc,.docx"}),a.errors.cv&&e.jsx("p",{className:"mt-1 text-sm text-red-500",children:a.errors.cv})]}),e.jsxs(l,{type:"submit",disabled:a.processing||!a.data.cv,className:"flex w-full transform items-center justify-center gap-3 rounded-2xl bg-gradient-to-r from-indigo-500 to-purple-600 py-4 font-semibold text-white shadow-lg transition-all duration-300 hover:scale-[1.02] hover:from-indigo-600 hover:to-purple-700 disabled:cursor-not-allowed disabled:opacity-50","aria-label":"Mettre Ã  jour le CV",children:[e.jsx("span",{className:"material-icons",children:"upload_file"}),e.jsx("span",{children:"Mettre Ã  jour"})]})]}),s.cv_path&&e.jsxs("div",{className:"mt-6 rounded-2xl border border-emerald-200 bg-gradient-to-r from-emerald-50 to-teal-50 p-4 dark:border-emerald-800/50 dark:from-emerald-900/20 dark:to-teal-900/20",children:[e.jsxs("div",{className:"mb-3 flex items-center gap-3",children:[e.jsx("div",{className:"rounded-lg bg-gradient-to-r from-emerald-500 to-teal-600 p-2",children:e.jsx("span",{className:"material-icons text-lg text-white",children:"check_circle"})}),e.jsx("span",{className:"font-semibold text-emerald-800 dark:text-emerald-200",children:"CV disponible"})]}),e.jsxs("a",{href:`/storage/${s.cv_path}`,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 font-medium text-emerald-700 transition-colors hover:text-emerald-800 dark:text-emerald-300 dark:hover:text-emerald-200",children:[e.jsx("span",{className:"material-icons text-lg",children:"visibility"}),e.jsx("span",{children:"Voir mon CV"})]})]})]})})})]})]})})]}),e.jsx($,{isOpen:f,onClose:()=>x(!1)}),e.jsx(A,{isOpen:j,onClose:()=>m(!1)}),e.jsx(M,{})]})}const L=E(B);export{L as default};
